---
import BaseLayout from "@layouts/Base.astro";
import { getCollection, type CollectionEntry } from "astro:content";

export async function getStaticPaths() {
	const articles = await getCollection("article");
	return articles.map((article: CollectionEntry<"article">) => ({
		params: { slug: article.slug },
		props: { article },
	}));
}

interface Props {
	article: CollectionEntry<"article">;
}

const { article } = Astro.props;
const { Content } = await article.render();
---

<BaseLayout>
	<article
		class="prose prose-a:underline prose-a:font-bold max-w-none space-x-2"
	>
		<h2>{article.data.title}</h2>

		<Content />
	</article>
</BaseLayout>
