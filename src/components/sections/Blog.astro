---
import { getAllBlogPosts } from "@lib/article";
import SectionHeading from "./SectionHeading.astro";

const blogPosts = await getAllBlogPosts();
---

<section>
	<SectionHeading id="blog">Blog</SectionHeading>

	<ul class="flex flex-col gap-y-2">
		{
			blogPosts.map((post) => {
				const { title, publishDate } = post.data;
				return (
					<li class="">
						<a
							href={`/${post.slug}`}
							class="flex justify-between gap-x-5 font-normal"
						>
							<h3 class="underline underline-offset-2">{title}</h3>

							<time
								datetime=""
								class="text-nowrap text-sm font-bold text-zinc-700"
							>
								{publishDate.toLocaleString("en-AU", {
									timeZone: "Australia/Sydney",
									month: "short",
									day: "numeric",
									year: "numeric",
								})}
							</time>
						</a>
					</li>
				);
			})
		}
	</ul>
</section>
