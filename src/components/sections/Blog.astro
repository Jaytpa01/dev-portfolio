---
import { getAllBlogPosts } from "@lib/article";
import SectionHeading from "./SectionHeading.astro";
import TextLink from "@components/TextLink.astro";

const blogPosts = await getAllBlogPosts();
---

<section>
	<SectionHeading id="blog">Blog</SectionHeading>

	<ul>
		{
			blogPosts.map((post) => {
				const { title, publishDate } = post.data;
				return (
					<li class="text-base">
						<TextLink
							href={`/${post.slug}`}
							class="flex justify-between gap-x-4 font-normal"
						>
							<h3>{title}</h3>
							<time
								datetime=""
								class="text-nowrap"
							>
								{publishDate.toLocaleString("en-AU", {
									timeZone: "Australia/Sydney",
									month: "short",
									day: "numeric",
									year: "numeric",
								})}
							</time>
						</TextLink>
					</li>
				);
			})
		}
	</ul>
</section>
